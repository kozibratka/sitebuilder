!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("sortablejs")):"function"==typeof define&&define.amd?define("ngx-sortablejs",["exports","@angular/core","sortablejs"],t):t((e=e||self)["ngx-sortablejs"]={},e.ng.core,e.Sortable)}(this,(function(e,t,n){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function i(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}var s=new t.InjectionToken("Global config for sortablejs"),a=function(){function e(e){this.target=e}return e.prototype.insert=function(e,t){this.isFormArray?this.target.insert(e,t):this.target.splice(e,0,t)},e.prototype.get=function(e){return this.isFormArray?this.target.at(e):this.target[e]},e.prototype.remove=function(e){var t;return this.isFormArray?(t=this.target.at(e),this.target.removeAt(e)):t=this.target.splice(e,1)[0],t},Object.defineProperty(e.prototype,"isFormArray",{get:function(){return!!this.target.at&&!!this.target.insert&&!!this.target.reset},enumerable:!0,configurable:!0}),e}();var u=function(){function e(e){this.bindings=e.map((function(e){return new a(e)}))}return e.prototype.injectIntoEvery=function(e,t){this.bindings.forEach((function(n,r){return n.insert(e,t[r])}))},e.prototype.getFromEvery=function(e){return this.bindings.map((function(t){return t.get(e)}))},e.prototype.extractFromEvery=function(e){return this.bindings.map((function(t){return t.remove(e)}))},Object.defineProperty(e.prototype,"provided",{get:function(){return!!this.bindings.length},enumerable:!0,configurable:!0}),e}();var c=function(){function e(){}return e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}();var l=function(e){return e.hasOwnProperty("newDraggableIndex")&&e.hasOwnProperty("oldDraggableIndex")?{new:e.newDraggableIndex,old:e.oldDraggableIndex}:{new:e.newIndex,old:e.oldIndex}},p=function(){function e(e,n,r,o,i){this.globalConfig=e,this.service=n,this.element=r,this.zone=o,this.renderer=i,this.runInsideAngular=!1,this.sortablejsInit=new t.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;n&&n.create&&(this.runInsideAngular?this.create():this.zone.runOutsideAngular((function(){return e.create()})))},e.prototype.ngOnChanges=function(e){var t=this,n=e.sortablejsOptions;if(n&&!n.isFirstChange()){var r=n.previousValue,o=n.currentValue;Object.keys(o).forEach((function(e){o[e]!==r[e]&&t.sortableInstance.option(e,t.options[e])}))}},e.prototype.ngOnDestroy=function(){this.sortableInstance&&this.sortableInstance.destroy()},e.prototype.create=function(){var e=this,t=this.sortablejsContainer?this.element.nativeElement.querySelector(this.sortablejsContainer):this.element.nativeElement;setTimeout((function(){e.sortableInstance=n.create(t,e.options),e.sortablejsInit.emit(e.sortableInstance)}),0)},e.prototype.getBindings=function(){return this.sortablejs?this.sortablejs instanceof u?this.sortablejs:new u([this.sortablejs]):new u([])},Object.defineProperty(e.prototype,"options",{get:function(){return r({},this.optionsWithoutEvents,this.overridenOptions)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"optionsWithoutEvents",{get:function(){return r({},this.globalConfig||{},this.sortablejsOptions||{})},enumerable:!0,configurable:!0}),e.prototype.proxyEvent=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.zone.run((function(){var r;t.optionsWithoutEvents&&t.optionsWithoutEvents[e]&&(r=t.optionsWithoutEvents)[e].apply(r,i(n))}))},Object.defineProperty(e.prototype,"isCloning",{get:function(){return"clone"===this.sortableInstance.options.group.checkPull(this.sortableInstance,this.sortableInstance)},enumerable:!0,configurable:!0}),e.prototype.clone=function(e){return(this.sortablejsCloneFunction||function(e){return e})(e)},Object.defineProperty(e.prototype,"overridenOptions",{get:function(){var e=this;return{onAdd:function(t){e.service.transfer=function(n){e.getBindings().injectIntoEvery(t.newIndex,n),e.proxyEvent("onAdd",t)},e.proxyEvent("onAddOriginal",t)},onRemove:function(t){var n=e.getBindings();n.provided&&(e.isCloning?(e.service.transfer(n.getFromEvery(t.oldIndex).map((function(t){return e.clone(t)}))),e.renderer.removeChild(t.item.parentNode,t.item),e.renderer.insertBefore(t.clone.parentNode,t.item,t.clone),e.renderer.removeChild(t.clone.parentNode,t.clone)):e.service.transfer(n.extractFromEvery(t.oldIndex)),e.service.transfer=null),e.proxyEvent("onRemove",t)},onUpdate:function(t){var n=e.getBindings(),r=l(t);n.injectIntoEvery(r.new,n.extractFromEvery(r.old)),e.proxyEvent("onUpdate",t)}}},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Directive,args:[{selector:"[sortablejs]"}]}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[s]}]},{type:c},{type:t.ElementRef},{type:t.NgZone},{type:t.Renderer2}]},e.propDecorators={sortablejs:[{type:t.Input}],sortablejsContainer:[{type:t.Input}],sortablejsOptions:[{type:t.Input}],sortablejsCloneFunction:[{type:t.Input}],runInsideAngular:[{type:t.Input}],sortablejsInit:[{type:t.Output}]},e}();var f=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:s,useValue:t}]}},e.decorators=[{type:t.NgModule,args:[{declarations:[p],exports:[p]}]}],e}();e.SortablejsDirective=p,e.SortablejsModule=f,e.ɵa=s,e.ɵb=c,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-sortablejs.umd.min.js.map